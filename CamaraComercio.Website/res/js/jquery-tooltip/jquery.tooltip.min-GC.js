(function(l){var m={},c,k,n,o=l.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),i=false;l.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){l.tooltip.blocked=!l.tooltip.blocked}};l.fn.extend({tooltip:function(p){p=l.extend({},l.tooltip.defaults,p);b(p);return this.each(function(){l.data(this,"tooltip",p);this.tOpacity=m.parent.css("opacity");this.tooltipText=this.title;l(this).removeAttr("title");this.alt=""}).mouseover(e).mouseout(g).click(g)},fixPNG:o?function(){return this.each(function(){var p=l(this).css("backgroundImage");if(p.match(/^url\(["']?(.*\.png)["']?\)$/i)){p=RegExp.$1;l(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+p+"')"}).each(function(){var q=l(this).css("position");if(q!="absolute"&&q!="relative"){l(this).css("position","relative")}})}})}:function(){return this},unfixPNG:o?function(){return this.each(function(){l(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){l(this)[l(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function b(p){if(m.parent){return}m.parent=l('<div id="'+p.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if(l.fn.bgiframe){m.parent.bgiframe()}m.title=l("h3",m.parent);m.body=l("div.body",m.parent);m.url=l("div.url",m.parent)}function a(p){return l.data(p,"tooltip")}function d(p){if(a(this).delay){n=setTimeout(h,a(this).delay)}else{h()}i=!!a(this).track;l(document.body).bind("mousemove",f);f(p)}function e(){if(l.tooltip.blocked||this==c||(!this.tooltipText&&!a(this).bodyHandler)){return}c=this;k=this.tooltipText;if(a(this).bodyHandler){m.title.hide();var r=a(this).bodyHandler.call(this);if(r.nodeType||r.jquery){m.body.empty().append(r)}else{m.body.html(r)}m.body.show()}else{if(a(this).showBody){var p=k.split(a(this).showBody);m.title.html(p.shift()).show();m.body.empty();for(var q=0,s;(s=p[q]);q++){if(q>0){m.body.append("<br/>")}m.body.append(s)}m.body.hideWhenEmpty()}else{m.title.html(k).show();m.body.hide()}}if(a(this).showURL&&l(this).url()){m.url.html(l(this).url().replace("http://","")).show()}else{m.url.hide()}m.parent.addClass(a(this).extraClass);if(a(this).fixPNG){m.parent.fixPNG()}d.apply(this,arguments)}function h(){n=null;if((!o||!l.fn.bgiframe)&&a(c).fade){if(m.parent.is(":animated")){m.parent.stop().show().fadeTo(a(c).fade,c.tOpacity)}else{m.parent.is(":visible")?m.parent.fadeTo(a(c).fade,c.tOpacity):m.parent.fadeIn(a(c).fade)}}else{m.parent.show()}f()}function f(t){if(l.tooltip.blocked){return}if(t&&t.target.tagName=="OPTION"){return}if(!i&&m.parent.is(":visible")){l(document.body).unbind("mousemove",f)}if(c==null){l(document.body).unbind("mousemove",f);return}m.parent.removeClass("viewport-right").removeClass("viewport-bottom");var r=m.parent[0].offsetLeft;var s=m.parent[0].offsetTop;if(t){r=t.pageX+a(c).left;s=t.pageY+a(c).top;var q="auto";if(a(c).positionLeft){q=l(window).width()-r;r="auto"}m.parent.css({left:r,right:q,top:s})}var u=j(),p=m.parent[0];if(u.x+u.cx<p.offsetLeft+p.offsetWidth){r-=p.offsetWidth+20+a(c).left;m.parent.css({left:r+"px"}).addClass("viewport-right")}if(u.y+u.cy<p.offsetTop+p.offsetHeight){s-=p.offsetHeight+20+a(c).top;m.parent.css({top:s+"px"}).addClass("viewport-bottom")}}function j(){return{x:l(window).scrollLeft(),y:l(window).scrollTop(),cx:l(window).width(),cy:l(window).height()}}function g(r){if(l.tooltip.blocked){return}if(n){clearTimeout(n)}c=null;var p=a(this);function q(){m.parent.removeClass(p.extraClass).hide().css("opacity","")}if((!o||!l.fn.bgiframe)&&p.fade){if(m.parent.is(":animated")){m.parent.stop().fadeTo(p.fade,0,q)}else{m.parent.stop().fadeOut(p.fade,q)}}else{q()}if(a(this).fixPNG){m.parent.unfixPNG()}}})(jQuery);